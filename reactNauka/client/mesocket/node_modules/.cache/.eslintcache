[{"C:\\Users\\Oski\\Desktop\\gitShit\\ReactMesocketUwU\\reactNauka\\client\\mesocket\\src\\index.js":"1"},{"size":4954,"mtime":1661030719364,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","suppressedMessages":"6","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"7"},"1p201an","C:\\Users\\Oski\\Desktop\\gitShit\\ReactMesocketUwU\\reactNauka\\client\\mesocket\\src\\index.js",["8","9","10","11","12","13","14"],[],"import React from 'react';\r\nimport {createRoot} from \"react-dom/client\"\r\nimport {useEffect, useState} from 'react';\r\n\r\nimport './index.css'\r\n\r\nimport io from 'socket.io-client'\r\n\r\n//import logo from \"./likeButton.jpg\"\r\n//import {MainContent} from \"./MainContent.js\"\r\n\r\nconst socket = io.connect('https://whispering-eyrie-25569.herokuapp.com/');\r\n\r\nconst container = document.getElementById('root')\r\nconst root= createRoot(container)\r\n\r\nlet userData={\r\n  nick:null,\r\n  room:null\r\n}\r\n\r\nlet alUsers=[]\r\n\r\nlet pmes=\"\"\r\n\r\nwhile(true){\r\n  let nick=prompt(\"nick: \")\r\n  if(nick.length<=13){\r\n    userData.nick=nick;\r\n    break;\r\n  }\r\n}\r\n\r\nwhile(true){\r\n  let room=prompt(\"room: \")\r\n  if(room.length==4 && !isNaN(room)){\r\n    userData.room=room;\r\n    break;\r\n  }\r\n}\r\n\r\n\r\nsocket.emit('userIn',userData.nick)\r\n\r\nfunction AllPage(){\r\n\r\nconst [messageAll, setThingsArray] = React.useState([])\r\n\r\nconst [usersAllbox, setUsers]=React.useState([])\r\n\r\n\r\nfunction BtnSend(){\r\n\r\n  if(document.getElementById('mesage').value!=\"\"){\r\n    socket.emit('message',{message:document.getElementById('mesage').value,nick:userData.nick,dateS:userData.nick+(new Date())})\r\n    document.getElementById('mesage').value=\"\"\r\n  }\r\n}\r\n\r\nfunction addMessage(nickk,textt,clases){\r\n  console.log(\"karaczan\")\r\n  setThingsArray(prevState =>[...prevState,{nick:nickk,text:textt,clases:clases,key:nickk+\" \"+(new Date())}])//https://www.youtube.com/watch?v=bMknfKXIFA8&t=2961s // 6:09:46\r\n}\r\n\r\nsocket.on('message',(data)=>{//once\r\n  if(!(pmes==data.dateS)){\r\n  let clas=\"hisMessage\"\r\n  if(data.nick==userData.nick){\r\n    clas=\"myMessage\"\r\n  }\r\n  console.log(data)\r\n  addMessage(data.nick,data.message,clas)\r\n}\r\npmes=data.dateS\r\n})\r\n/*\r\nif(data.nick!=userData.nick){\r\n  NewMessage(data.nick,data.message,\"hisMessage\")\r\n}else\r\n{NewMessage(data.nick,data.message,\"myMessage\")}\r\n  \r\n})\r\n\r\nfunction NewMessage(user,text,className){\r\n    var newMessage=document.createElement('div')\r\n    newMessage.className=className\r\n    newMessage.innerHTML=\"<i>\"+user+\"</i><br>\"+text\r\n    document.getElementById(\"ChatWindow\").appendChild(newMessage)\r\n    //npm start    || node .\r\n    console.log(user,text)\r\n\r\nconst msg=(\r\n      <div className={className}>\r\n        <i>{user}</i><br/>\r\n        {text}\r\n      </div>\r\n    )\r\n  else{\r\n    var newMessage=document.createElement('div')\r\n    newMessage.className=\"hisMessage\"\r\n    newMessage.innerHTML=user+\"<br>\"+text\r\n    document.getElementById(\"ChatWindow\").appendChild(newMessage)\r\n    console.log(user,text)\r\n  }*/\r\n    \r\n\r\n//<div class=\"hisMessage\"><i>{thing.nick}</i><br/>{thing.text}</div>\r\nconst AllMessageSetSet = messageAll.map(thing => (\r\n<div key={thing.key} className={thing.clases}>\r\n<i>{thing.nick}</i><br/>\r\n{thing.text}\r\n</div>\r\n)\r\n)\r\n// tam do gury mimo że jest nowa data to i tak sie pierdoli to problem z on zmieniłam na once ale dalej w rekcie sie pierdoli\r\nfunction AllMessageSet(){\r\n  return <div>{AllMessageSetSet}</div>\r\n}\r\n\r\n// function UserBoxWindow(){\r\n//   return(\r\n//   //<div class=\"UserBoxWindow\" key={nick}><h1>{nick}</h1></div>\r\n//   <div class=\"UserBoxWindow\">1234567890123</div>\r\n//   )\r\n// }\r\n\r\nfunction NickBar(){\r\n  return(\r\n    <div id=\"NickBar\" key=\"NickBark\">\r\n      <UserBoxWindow />\r\n    </div>\r\n  )\r\n}\r\nfunction ChatWindow(){\r\n  return(\r\n  <div id=\"ChatWindow\">\r\n    <AllMessageSet />\r\n  </div>\r\n  )\r\n}\r\nfunction UserInput(){\r\n  return(\r\n  <div id=\"UserInput\">\r\n    <input type=\"text\" id=\"mesage\" placeholder=\"message\"/><button id=\"send\" onClick={BtnSend}>Send</button>\r\n  </div>\r\n    )\r\n}\r\nfunction Footer(){\r\n  return(\r\n  <div id=\"Footer\">\r\n  Just footer with no data in it ¯\\_(ツ)_/¯\r\n  </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n// const UseOnPageLeave = (handler) => {\r\n//   useEffect(() => {\r\n//     window.onbeforeunload = () => handler();\r\n\r\n//     window.addEventListener('beforeunload', (event) => {\r\n//       handler();\r\n//     });\r\n\r\n//     return () => {\r\n//       handler();\r\n//       document.removeEventListener('beforeunload', handler);\r\n//     };\r\n//   });\r\n// };\r\nconst AllUsersSet = usersAllbox.map(thing => (\r\n  <div className=\"UserBoxWindowT\" key={thing}>{thing}</div>\r\n  )\r\n  )\r\n\r\nfunction UserBoxWindow(){\r\n  return <div key=\"AllUsersSetK\">{AllUsersSet}</div>\r\n}\r\n\r\nsocket.once('updateUserList',data=>{\r\n  alUsers=data//tu daje pierdolenie o dodawaniu użytkownikuw z boku ale bez{...} mam nadzieje że bede wiedzdiał o co mi chodziło\r\n  console.log(alUsers)\r\n  setUsers(alUsers)//https://www.youtube.com/watch?v=bMknfKXIFA8&t=2961s // 6:09:46\r\n})\r\n\r\nsocket.once('ptw',(data)=>{\r\n  if(data==\"data\"){\r\n    \r\n    socket.emit('userIn',userData.nick)\r\n  }\r\n})\r\n\r\n  return(\r\n  <div id=\"allPage\">\r\n    <NickBar />\r\n    <ChatWindow />\r\n    <UserInput />\r\n    <Footer />\r\n  </div>)\r\n}\r\n\r\n\r\n\r\nroot.render(<AllPage />)\r\n\r\n\r\n//huj nie działa before the unload react żeby nick wykreślić\r\n//npm run build i huj\r\n\r\n//npm start // jak by to wyjebał i musiał kiedyś wrucić xd // start nie kurwa run run jest dla serweda ",{"ruleId":"15","severity":1,"message":"16","line":3,"column":9,"nodeType":"17","messageId":"18","endLine":3,"endColumn":18},{"ruleId":"15","severity":1,"message":"19","line":3,"column":20,"nodeType":"17","messageId":"18","endLine":3,"endColumn":28},{"ruleId":"20","severity":1,"message":"21","line":36,"column":17,"nodeType":"22","messageId":"23","endLine":36,"endColumn":19},{"ruleId":"20","severity":1,"message":"24","line":54,"column":45,"nodeType":"22","messageId":"23","endLine":54,"endColumn":47},{"ruleId":"20","severity":1,"message":"21","line":66,"column":12,"nodeType":"22","messageId":"23","endLine":66,"endColumn":14},{"ruleId":"20","severity":1,"message":"21","line":68,"column":15,"nodeType":"22","messageId":"23","endLine":68,"endColumn":17},{"ruleId":"20","severity":1,"message":"21","line":188,"column":10,"nodeType":"22","messageId":"23","endLine":188,"endColumn":12},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='."]