[{"/home/ossas/Desktop/gitShit/ReactMesocketUwU/reactNauka/client/mesocket/src/index.js":"1"},{"size":4698,"mtime":1661077670581,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","suppressedMessages":"6","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"7"},"192q8yi","/home/ossas/Desktop/gitShit/ReactMesocketUwU/reactNauka/client/mesocket/src/index.js",["8","9","10","11","12","13","14"],[],"import React from 'react';\nimport {createRoot} from \"react-dom/client\"\nimport {useEffect, useState} from 'react';\n\nimport './index.css'\n\nimport io from 'socket.io-client'\n\n//import logo from \"./likeButton.jpg\"\n//import {MainContent} from \"./MainContent.js\"\nconst socket = io.connect('http://localhost:3001');\n\nconst container = document.getElementById('root')\nconst root= createRoot(container)\n\nlet userData={\n  nick:null,\n  room:null\n}\n\nlet alUsers=[]\n\nlet pmes=\"\"\n\nwhile(true){\n  let nick=prompt(\"nick: \")\n  if(nick.length<=13){\n    userData.nick=nick;\n    break;\n  }\n}\n\nwhile(true){\n  let room=prompt(\"room: \")\n  if(room.length==4 && !isNaN(room)){\n    userData.room=room;\n    break;\n  }\n}\n\n\nsocket.emit('userIn',userData.nick)\n\nfunction AllPage(){\n\nconst [messageAll, setThingsArray] = React.useState([])\n\nconst [usersAllbox, setUsers]=React.useState([])\n\n\nfunction BtnSend(){\n\n  if(document.getElementById('mesage').value!=\"\"){\n    socket.emit('message',{message:document.getElementById('mesage').value,nick:userData.nick,dateS:userData.nick+(new Date())})\n    document.getElementById('mesage').value=\"\"\n  }\n}\n\nfunction addMessage(nickk,textt,clases){\n  console.log(\"karaczan\")\n  setThingsArray(prevState =>[...prevState,{nick:nickk,text:textt,clases:clases,key:nickk+\" \"+(new Date())}])//https://www.youtube.com/watch?v=bMknfKXIFA8&t=2961s // 6:09:46\n}\n\nsocket.on('message',(data)=>{//once\n  if(!(pmes==data.dateS)){\n  let clas=\"hisMessage\"\n  if(data.nick==userData.nick){\n    clas=\"myMessage\"\n  }\n  console.log(data)\n  addMessage(data.nick,data.message,clas)\n}\npmes=data.dateS\n})\n/*\nif(data.nick!=userData.nick){\n  NewMessage(data.nick,data.message,\"hisMessage\")\n}else\n{NewMessage(data.nick,data.message,\"myMessage\")}\n  \n})\n\nfunction NewMessage(user,text,className){\n    var newMessage=document.createElement('div')\n    newMessage.className=className\n    newMessage.innerHTML=\"<i>\"+user+\"</i><br>\"+text\n    document.getElementById(\"ChatWindow\").appendChild(newMessage)\n    //npm start    || node .\n    console.log(user,text)\n\nconst msg=(\n      <div className={className}>\n        <i>{user}</i><br/>\n        {text}\n      </div>\n    )\n  else{\n    var newMessage=document.createElement('div')\n    newMessage.className=\"hisMessage\"\n    newMessage.innerHTML=user+\"<br>\"+text\n    document.getElementById(\"ChatWindow\").appendChild(newMessage)\n    console.log(user,text)\n  }*/\n    \n\n//<div class=\"hisMessage\"><i>{thing.nick}</i><br/>{thing.text}</div>\nconst AllMessageSetSet = messageAll.map(thing => (\n<div key={thing.key} className={thing.clases}>\n<i>{thing.nick}</i><br/>\n{thing.text}\n</div>\n)\n)\n// tam do gury mimo że jest nowa data to i tak sie pierdoli to problem z on zmieniłam na once ale dalej w rekcie sie pierdoli\nfunction AllMessageSet(){\n  return <div>{AllMessageSetSet}</div>\n}\n\n// function UserBoxWindow(){\n//   return(\n//   //<div class=\"UserBoxWindow\" key={nick}><h1>{nick}</h1></div>\n//   <div class=\"UserBoxWindow\">1234567890123</div>\n//   )\n// }\n\nfunction NickBar(){\n  return(\n    <div id=\"NickBar\" key=\"NickBark\">\n      <UserBoxWindow />\n    </div>\n  )\n}\nfunction ChatWindow(){\n  return(\n  <div id=\"ChatWindow\">\n    <AllMessageSet />\n  </div>\n  )\n}\nfunction UserInput(){\n  return(\n  <div id=\"UserInput\">\n    <input type=\"text\" id=\"mesage\" placeholder=\"message\"/><button id=\"send\" onClick={BtnSend}>Send</button>\n  </div>\n    )\n}\nfunction Footer(){\n  return(\n  <div id=\"Footer\">\n  Just footer with no data in it ¯\\_(ツ)_/¯\n  </div>\n    )\n}\n\n\n\n// const UseOnPageLeave = (handler) => {\n//   useEffect(() => {\n//     window.onbeforeunload = () => handler();\n\n//     window.addEventListener('beforeunload', (event) => {\n//       handler();\n//     });\n\n//     return () => {\n//       handler();\n//       document.removeEventListener('beforeunload', handler);\n//     };\n//   });\n// };\nconst AllUsersSet = usersAllbox.map(thing => (\n  <div className=\"UserBoxWindowT\" key={thing}>{thing}</div>\n  )\n  )\n\nfunction UserBoxWindow(){\n  return <div key=\"AllUsersSetK\">{AllUsersSet}</div>\n}\n\nsocket.once('updateUserList',data=>{\n  alUsers=data//tu daje pierdolenie o dodawaniu użytkownikuw z boku ale bez{...} mam nadzieje że bede wiedzdiał o co mi chodziło\n  console.log(alUsers)\n  setUsers(alUsers)//https://www.youtube.com/watch?v=bMknfKXIFA8&t=2961s // 6:09:46\n})\n\nsocket.once('ptw',(data)=>{\n  if(data==\"data\"){\n    \n    socket.emit('userIn',userData.nick)\n  }\n})\n\n  return(\n  <div id=\"allPage\">\n    <NickBar />\n    <ChatWindow />\n    <UserInput />\n    <Footer />\n  </div>)\n}\n\n\n\nroot.render(<AllPage />)\n\n\n//huj nie działa before the unload react żeby nick wykreślić\n\n\n//npm start // jak by to wyjebał i musiał kiedyś wrucić xd // start nie kurwa run run jest dla serweda ",{"ruleId":"15","severity":1,"message":"16","line":3,"column":9,"nodeType":"17","messageId":"18","endLine":3,"endColumn":18},{"ruleId":"15","severity":1,"message":"19","line":3,"column":20,"nodeType":"17","messageId":"18","endLine":3,"endColumn":28},{"ruleId":"20","severity":1,"message":"21","line":35,"column":17,"nodeType":"22","messageId":"23","endLine":35,"endColumn":19},{"ruleId":"20","severity":1,"message":"24","line":53,"column":45,"nodeType":"22","messageId":"23","endLine":53,"endColumn":47},{"ruleId":"20","severity":1,"message":"21","line":65,"column":12,"nodeType":"22","messageId":"23","endLine":65,"endColumn":14},{"ruleId":"20","severity":1,"message":"21","line":67,"column":15,"nodeType":"22","messageId":"23","endLine":67,"endColumn":17},{"ruleId":"20","severity":1,"message":"21","line":187,"column":10,"nodeType":"22","messageId":"23","endLine":187,"endColumn":12},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='."]