{"ast":null,"code":"var _jsxFileName = \"/home/ossas/Desktop/gitShit/ReactMesocketUwU/reactNauka/client/mesocket/src/index.js\",\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { createRoot } from \"react-dom/client\";\nimport { useEffect, useState } from 'react';\nimport './index.css';\nimport io from 'socket.io-client'; //import logo from \"./likeButton.jpg\"\n//import {MainContent} from \"./MainContent.js\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io.connect('http://localhost:3001');\nconst container = document.getElementById('root');\nconst root = createRoot(container);\nlet userData = {\n  nick: null,\n  room: null\n};\n\nwhile (true) {\n  let nick = prompt(\"nick: \");\n\n  if (nick.length <= 13) {\n    userData.nick = nick;\n    break;\n  }\n}\n\nwhile (true) {\n  let room = prompt(\"room: \");\n\n  if (room.length == 4 && !isNaN(room)) {\n    userData.room = room;\n    break;\n  }\n}\n\nsocket.emit('userIn', userData.nick);\n\nfunction AllPage() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [messageAll, setThingsArray] = React.useState([]);\n  socket.on('users', data => {\n    console.log(data);\n  });\n\n  function BtnSend() {\n    if (document.getElementById('mesage').value != \"\") {\n      socket.emit('message', {\n        message: document.getElementById('mesage').value,\n        nick: userData.nick\n      });\n      document.getElementById('mesage').value = \"\";\n    }\n  }\n\n  function addMessage(nickk, textt, clases) {\n    setThingsArray(prevState => [...prevState, {\n      nick: nickk,\n      text: textt,\n      clases: clases\n    }]); //https://www.youtube.com/watch?v=bMknfKXIFA8&t=2961s // 6:09:46\n  }\n\n  socket.once('message', data => {\n    let clas = \"hisMessage\";\n\n    if (data.nick == userData.nick) {\n      clas = \"myMessage\";\n    }\n\n    addMessage(data.nick, data.message, clas);\n    /*\n    if(data.nick!=userData.nick){\n      NewMessage(data.nick,data.message,\"hisMessage\")\n    }else\n    {NewMessage(data.nick,data.message,\"myMessage\")}\n      \n    })\n    \n    function NewMessage(user,text,className){\n        var newMessage=document.createElement('div')\n        newMessage.className=className\n        newMessage.innerHTML=\"<i>\"+user+\"</i><br>\"+text\n        document.getElementById(\"ChatWindow\").appendChild(newMessage)\n        //npm start    || node .\n        console.log(user,text)\n    \n    const msg=(\n          <div className={className}>\n            <i>{user}</i><br/>\n            {text}\n          </div>\n        )\n      else{\n        var newMessage=document.createElement('div')\n        newMessage.className=\"hisMessage\"\n        newMessage.innerHTML=user+\"<br>\"+text\n        document.getElementById(\"ChatWindow\").appendChild(newMessage)\n        console.log(user,text)\n      }*/\n  }); //<div class=\"hisMessage\"><i>{thing.nick}</i><br/>{thing.text}</div>\n\n  const AllMessageSetSet = messageAll.map(thing => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: thing.clases,\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      children: thing.nick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 20\n    }, this), thing.text]\n  }, new Date(), true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 1\n  }, this)); // tam do gury mimo że jest nowa data to i tak sie pierdoli to problem z on zmieniłam na once ale dalej w rekcie sie pierdoli\n\n  function AllMessageSet() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: AllMessageSetSet\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 10\n    }, this);\n  }\n\n  function UserBoxWindow() {\n    return (\n      /*#__PURE__*/\n      //<div class=\"UserBoxWindow\" key={nick}><h1>{nick}</h1></div>\n      _jsxDEV(\"div\", {\n        class: \"UserBoxWindow\",\n        children: \"1234567890123\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 3\n      }, this)\n    );\n  }\n\n  function NickBar() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"NickBar\",\n      children: /*#__PURE__*/_jsxDEV(UserBoxWindow, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }, this);\n  }\n\n  function ChatWindow() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"ChatWindow\",\n      children: /*#__PURE__*/_jsxDEV(AllMessageSet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 3\n    }, this);\n  }\n\n  function UserInput() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"UserInput\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"mesage\",\n        placeholder: \"message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"send\",\n        onClick: BtnSend,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 59\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 3\n    }, this);\n  }\n\n  function Footer() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"Footer\",\n      children: \"Just footer with no data in it \\xAF\\\\_(\\u30C4)_/\\xAF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 3\n    }, this);\n  }\n\n  function handler() {\n    socket.emit(\"userOut\", userData.nick);\n  }\n\n  const UseOnPageLeave = handler => {\n    _s();\n\n    useEffect(() => {\n      window.onbeforeunload = () => handler();\n\n      window.addEventListener('beforeunload', event => {\n        handler();\n      });\n      return () => {\n        handler();\n        document.removeEventListener('beforeunload', handler);\n      };\n    });\n  };\n\n  _s(UseOnPageLeave, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"allPage\",\n    children: [/*#__PURE__*/_jsxDEV(NickBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ChatWindow, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(UserInput, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(UseOnPageLeave, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 3\n  }, this);\n}\n\n_s2(AllPage, \"8S9VJJ5AHpM/pyj2NCTT3FQlgTE=\");\n\n_c = AllPage;\nroot.render( /*#__PURE__*/_jsxDEV(AllPage, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 179,\n  columnNumber: 13\n}, this)); //huj nie działa before the unload react żeby nick wykreślić\n\nfunction aht() {\n  socket.emit(\"userOut\", userData.nick);\n} //npm start // jak by to wyjebał i musiał kiedyś wrucić xd // start nie kurwa run run jest dla serweda \n\n\nvar _c;\n\n$RefreshReg$(_c, \"AllPage\");","map":{"version":3,"names":["React","createRoot","useEffect","useState","io","socket","connect","container","document","getElementById","root","userData","nick","room","prompt","length","isNaN","emit","AllPage","messageAll","setThingsArray","on","data","console","log","BtnSend","value","message","addMessage","nickk","textt","clases","prevState","text","once","clas","AllMessageSetSet","map","thing","Date","AllMessageSet","UserBoxWindow","NickBar","ChatWindow","UserInput","Footer","handler","UseOnPageLeave","window","onbeforeunload","addEventListener","event","removeEventListener","render","aht"],"sources":["/home/ossas/Desktop/gitShit/ReactMesocketUwU/reactNauka/client/mesocket/src/index.js"],"sourcesContent":["import React from 'react';\nimport {createRoot} from \"react-dom/client\"\nimport {useEffect, useState} from 'react';\nimport './index.css'\n\nimport io from 'socket.io-client'\n\n//import logo from \"./likeButton.jpg\"\n//import {MainContent} from \"./MainContent.js\"\nconst socket = io.connect('http://localhost:3001');\n\nconst container = document.getElementById('root')\nconst root= createRoot(container)\n\nlet userData={\n  nick:null,\n  room:null\n}\n\nwhile(true){\n  let nick=prompt(\"nick: \")\n  if(nick.length<=13){\n    userData.nick=nick;\n    break;\n  }\n}\n\nwhile(true){\n  let room=prompt(\"room: \")\n  if(room.length==4 && !isNaN(room)){\n    userData.room=room;\n    break;\n  }\n}\n\n\nsocket.emit('userIn',userData.nick)\n\nfunction AllPage(){\n\nconst [messageAll, setThingsArray] = React.useState([])\n\n\nsocket.on('users',data=>{\n  console.log(data)\n})\n\nfunction BtnSend(){\n\n  if(document.getElementById('mesage').value!=\"\"){\n    socket.emit('message',{message:document.getElementById('mesage').value,nick:userData.nick})\n    document.getElementById('mesage').value=\"\"\n  }\n}\n\nfunction addMessage(nickk,textt,clases){\n  setThingsArray(prevState =>[...prevState,{nick:nickk,text:textt,clases:clases}])//https://www.youtube.com/watch?v=bMknfKXIFA8&t=2961s // 6:09:46\n}\n\nsocket.once('message',data=>{\n  let clas=\"hisMessage\"\n  if(data.nick==userData.nick){\n    clas=\"myMessage\"\n  }\n  addMessage(data.nick,data.message,clas)\n\n/*\nif(data.nick!=userData.nick){\n  NewMessage(data.nick,data.message,\"hisMessage\")\n}else\n{NewMessage(data.nick,data.message,\"myMessage\")}\n  \n})\n\nfunction NewMessage(user,text,className){\n    var newMessage=document.createElement('div')\n    newMessage.className=className\n    newMessage.innerHTML=\"<i>\"+user+\"</i><br>\"+text\n    document.getElementById(\"ChatWindow\").appendChild(newMessage)\n    //npm start    || node .\n    console.log(user,text)\n\nconst msg=(\n      <div className={className}>\n        <i>{user}</i><br/>\n        {text}\n      </div>\n    )\n  else{\n    var newMessage=document.createElement('div')\n    newMessage.className=\"hisMessage\"\n    newMessage.innerHTML=user+\"<br>\"+text\n    document.getElementById(\"ChatWindow\").appendChild(newMessage)\n    console.log(user,text)\n  }*/\n    \n})\n//<div class=\"hisMessage\"><i>{thing.nick}</i><br/>{thing.text}</div>\nconst AllMessageSetSet = messageAll.map(thing => (\n<div key={new Date()} className={thing.clases}>\n<i>{thing.nick}</i><br/>\n{thing.text}\n</div>\n)\n)\n// tam do gury mimo że jest nowa data to i tak sie pierdoli to problem z on zmieniłam na once ale dalej w rekcie sie pierdoli\nfunction AllMessageSet(){\n  return <div>{AllMessageSetSet}</div>\n}\n\nfunction UserBoxWindow(){\n  return(\n  //<div class=\"UserBoxWindow\" key={nick}><h1>{nick}</h1></div>\n  <div class=\"UserBoxWindow\">1234567890123</div>\n  )\n}\n\nfunction NickBar(){\n  return(\n    <div id=\"NickBar\">\n      <UserBoxWindow />\n    </div>\n  )\n}\nfunction ChatWindow(){\n  return(\n  <div id=\"ChatWindow\">\n    <AllMessageSet />\n  </div>\n  )\n}\nfunction UserInput(){\n  return(\n  <div id=\"UserInput\">\n    <input type=\"text\" id=\"mesage\" placeholder=\"message\"/><button id=\"send\" onClick={BtnSend}>Send</button>\n  </div>\n    )\n}\nfunction Footer(){\n  return(\n  <div id=\"Footer\">\n  Just footer with no data in it ¯\\_(ツ)_/¯\n  </div>\n    )\n}\n\nfunction handler(){\n  socket.emit(\"userOut\",userData.nick)\n}\n\nconst UseOnPageLeave = (handler) => {\n  useEffect(() => {\n    window.onbeforeunload = () => handler();\n\n    window.addEventListener('beforeunload', (event) => {\n      handler();\n    });\n\n    return () => {\n      handler();\n      document.removeEventListener('beforeunload', handler);\n    };\n  });\n};\n\n\n  return(\n  <div id=\"allPage\">\n    <NickBar />\n    <ChatWindow />\n    <UserInput />\n    <Footer />\n    <UseOnPageLeave />\n  </div>)\n}\n\n\n\nroot.render(<AllPage />)\n\n\n//huj nie działa before the unload react żeby nick wykreślić\nfunction aht(){\n  socket.emit(\"userOut\",userData.nick)\n}\n\n\n//npm start // jak by to wyjebał i musiał kiedyś wrucić xd // start nie kurwa run run jest dla serweda "],"mappings":"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"},"metadata":{},"sourceType":"module"}